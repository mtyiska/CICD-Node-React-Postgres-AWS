{"ast":null,"code":"import _regeneratorRuntime from\"/home/michael/Desktop/projects/aws/demo-cicd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/michael/Desktop/projects/aws/demo-cicd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/michael/Desktop/projects/aws/demo-cicd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{RestaurantsContext}from\"../context/RestaurantsContext\";import RestaurantFinder from\"../apis/RestaurantFinder\";var UpdateRestaurant=function UpdateRestaurant(props){var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useContext=useContext(RestaurantsContext),restaurants=_useContext.restaurants;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),priceRange=_useState6[0],setPriceRange=_useState6[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return RestaurantFinder.get(\"/\".concat(id));case 2:response=_context.sent;console.log(response.data.data);setName(response.data.data.restaurant.name);setLocation(response.data.data.restaurant.location);setPriceRange(response.data.data.restaurant.price_range);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var updatedRestaurant;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return RestaurantFinder.put(\"/\".concat(id),{name:name,location:location,price_range:priceRange});case 3:updatedRestaurant=_context2.sent;history.push(\"/\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{action:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},id:\"name\",className:\"form-control\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"location\"},\"Location\"),/*#__PURE__*/React.createElement(\"input\",{value:location,onChange:function onChange(e){return setLocation(e.target.value);},id:\"location\",className:\"form-control\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"price_range\"},\"Price Range\"),/*#__PURE__*/React.createElement(\"input\",{value:priceRange,onChange:function onChange(e){return setPriceRange(e.target.value);},id:\"price_range\",className:\"form-control\",type:\"number\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:handleSubmit,className:\"btn btn-primary\"},\"Submit\")));};export default UpdateRestaurant;","map":{"version":3,"sources":["/home/michael/Desktop/projects/aws/demo-cicd/client/src/components/UpdateRestaurant.jsx"],"names":["React","useState","useContext","useEffect","useParams","useHistory","RestaurantsContext","RestaurantFinder","UpdateRestaurant","props","id","history","restaurants","name","setName","location","setLocation","priceRange","setPriceRange","fetchData","get","response","console","log","data","restaurant","price_range","handleSubmit","e","preventDefault","put","updatedRestaurant","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\n\nconst UpdateRestaurant = (props) => {\n  const { id } = useParams();\n  let history = useHistory();\n  const { restaurants } = useContext(RestaurantsContext);\n  const [name, setName] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [priceRange, setPriceRange] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await RestaurantFinder.get(`/${id}`);\n      console.log(response.data.data);\n      setName(response.data.data.restaurant.name);\n      setLocation(response.data.data.restaurant.location);\n      setPriceRange(response.data.data.restaurant.price_range);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const updatedRestaurant = await RestaurantFinder.put(`/${id}`, {\n      name,\n      location,\n      price_range: priceRange,\n    });\n    history.push(\"/\");\n  };\n\n  return (\n    <div>\n      <form action=\"\">\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Name</label>\n          <input\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            id=\"name\"\n            className=\"form-control\"\n            type=\"text\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"location\">Location</label>\n          <input\n            value={location}\n            onChange={(e) => setLocation(e.target.value)}\n            id=\"location\"\n            className=\"form-control\"\n            type=\"text\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"price_range\">Price Range</label>\n          <input\n            value={priceRange}\n            onChange={(e) => setPriceRange(e.target.value)}\n            id=\"price_range\"\n            className=\"form-control\"\n            type=\"number\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          onClick={handleSubmit}\n          className=\"btn btn-primary\"\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateRestaurant;\n"]},"metadata":{},"sourceType":"module"}