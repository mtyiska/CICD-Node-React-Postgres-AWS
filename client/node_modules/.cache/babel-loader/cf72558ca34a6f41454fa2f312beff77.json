{"ast":null,"code":"import _regeneratorRuntime from\"/home/michael/Desktop/projects/aws/demo-cicd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/michael/Desktop/projects/aws/demo-cicd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{RestaurantsContext}from\"../context/RestaurantsContext\";import RestaurantFinder from\"../apis/RestaurantFinder\";import StarRating from\"../components/StarRating\";import Reviews from\"../components/Reviews\";import AddReview from\"../components/AddReview\";var RestaurantDetailPage=function RestaurantDetailPage(){var _useParams=useParams(),id=_useParams.id;var _useContext=useContext(RestaurantsContext),selectedRestaurant=_useContext.selectedRestaurant,setSelectedRestaurant=_useContext.setSelectedRestaurant;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return RestaurantFinder.get(\"/\".concat(id));case 3:response=_context.sent;console.log(response);setSelectedRestaurant(response.data.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/React.createElement(\"div\",null,selectedRestaurant&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center display-1\"},selectedRestaurant.restaurant.name),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(StarRating,{rating:selectedRestaurant.restaurant.average_rating}),/*#__PURE__*/React.createElement(\"span\",{className:\"text-warning ml-1\"},selectedRestaurant.restaurant.count?\"(\".concat(selectedRestaurant.restaurant.count,\")\"):\"(0)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Reviews,{reviews:selectedRestaurant.reviews})),/*#__PURE__*/React.createElement(AddReview,null)));};export default RestaurantDetailPage;","map":{"version":3,"sources":["/home/michael/Desktop/projects/aws/demo-cicd/client/src/routes/RestaurantDetailPage.jsx"],"names":["React","useContext","useEffect","useParams","RestaurantsContext","RestaurantFinder","StarRating","Reviews","AddReview","RestaurantDetailPage","id","selectedRestaurant","setSelectedRestaurant","fetchData","get","response","console","log","data","restaurant","name","average_rating","count","reviews"],"mappings":"iVAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,kBAAT,KAAmC,+BAAnC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,gBAClBN,SAAS,EADS,CACzBO,EADyB,YACzBA,EADyB,iBAEqBT,UAAU,CAC9DG,kBAD8D,CAF/B,CAEzBO,kBAFyB,aAEzBA,kBAFyB,CAELC,qBAFK,aAELA,qBAFK,CAMjCV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,SAAS,0FAAG,sLAESR,CAAAA,gBAAgB,CAACS,GAAjB,YAAyBJ,EAAzB,EAFT,QAERK,QAFQ,eAGdC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAEAH,qBAAqB,CAACG,QAAQ,CAACG,IAAT,CAAcA,IAAf,CAArB,CALc,+EAOdF,OAAO,CAACC,GAAR,cAPc,oEAAH,kBAATJ,CAAAA,SAAS,0CAAf,CAWAA,SAAS,GACV,CAbQ,CAaN,EAbM,CAAT,CAcA,mBACE,+BACGF,kBAAkB,eACjB,qDACE,0BAAI,SAAS,CAAC,uBAAd,EACGA,kBAAkB,CAACQ,UAAnB,CAA8BC,IADjC,CADF,cAIE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,UAAD,EAAY,MAAM,CAAET,kBAAkB,CAACQ,UAAnB,CAA8BE,cAAlD,EADF,cAEE,4BAAM,SAAS,CAAC,mBAAhB,EACGV,kBAAkB,CAACQ,UAAnB,CAA8BG,KAA9B,YACOX,kBAAkB,CAACQ,UAAnB,CAA8BG,KADrC,MAEG,KAHN,CAFF,CAJF,cAYE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,OAAD,EAAS,OAAO,CAAEX,kBAAkB,CAACY,OAArC,EADF,CAZF,cAeE,oBAAC,SAAD,MAfF,CAFJ,CADF,CAuBD,CA3CD,CA6CA,cAAed,CAAAA,oBAAf","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\nimport StarRating from \"../components/StarRating\";\nimport Reviews from \"../components/Reviews\";\nimport AddReview from \"../components/AddReview\";\n\nconst RestaurantDetailPage = () => {\n  const { id } = useParams();\n  const { selectedRestaurant, setSelectedRestaurant } = useContext(\n    RestaurantsContext\n  );\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await RestaurantFinder.get(`/${id}`);\n        console.log(response);\n\n        setSelectedRestaurant(response.data.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchData();\n  }, []);\n  return (\n    <div>\n      {selectedRestaurant && (\n        <>\n          <h1 className=\"text-center display-1\">\n            {selectedRestaurant.restaurant.name}\n          </h1>\n          <div className=\"text-center\">\n            <StarRating rating={selectedRestaurant.restaurant.average_rating} />\n            <span className=\"text-warning ml-1\">\n              {selectedRestaurant.restaurant.count\n                ? `(${selectedRestaurant.restaurant.count})`\n                : \"(0)\"}\n            </span>\n          </div>\n          <div className=\"mt-3\">\n            <Reviews reviews={selectedRestaurant.reviews} />\n          </div>\n          <AddReview />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default RestaurantDetailPage;\n"]},"metadata":{},"sourceType":"module"}